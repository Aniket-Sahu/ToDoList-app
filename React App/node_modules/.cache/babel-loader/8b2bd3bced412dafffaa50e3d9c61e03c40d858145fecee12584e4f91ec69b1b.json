{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Header from\"./Header\";import Footer from\"./Footer\";import Item from\"./item\";import SideBar from\"./sideBar\";import CreateArea from\"./createArea\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initNotes=[{id:\"1\",type:\"Today\",title:\"Study\",content:\"Need to finish three topics\",user_id:\"1\"},{id:\"2\",type:\"Today\",title:\"Play\",content:\"Need to kill that boss\",user_id:\"1\"},{id:\"3\",type:\"This Week\",title:\"Project\",content:\"Need to finish the project\",user_id:\"1\"},{id:\"4\",type:\"This Month\",title:\"Help\",content:\"Need to help three people\",user_id:\"1\"}];function App(){const[notes,setNotes]=useState([]);const[title,setTitle]=useState(\"Today\");const[showCreateArea,setShowCreateArea]=useState(false);const[userId,setUserId]=useState(null);useEffect(()=>{// Simulate fetching user ID after login\nconst fetchUser=async()=>{const response=await fetch(\"http://localhost:3000/api/user\",{credentials:\"include\"// Include cookies for session\n});const user=await response.json();setUserId(user.id);// Store the user ID\n};const fetchNotes=async()=>{const response=await fetch(\"http://localhost:3000/api/notes\",{credentials:\"include\"// Include cookies for session\n});const data=await response.json();setNotes(data);};fetchUser();// Get the logged-in user\nfetchNotes();// Fetch notes\n},[]);const toggleCreateArea=()=>{setShowCreateArea(!showCreateArea);// Toggle between true and false\n};const addNote=async newNote=>{const response=await fetch(\"http://localhost:3000/api/notes\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify(newNote)});const addedNote=await response.json();setNotes(prevNotes=>[...prevNotes,addedNote]);};const deleteItems=async id=>{const noteId=parseInt(id,10);await fetch(`http://localhost:3000/api/notes/${id}`,{method:\"DELETE\",credentials:\"include\"});setNotes(prevNotes=>prevNotes.filter(note=>note.id!==id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Header,{Title:title,toggleCreateArea:toggleCreateArea}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(SideBar,{setTitle:setTitle}),showCreateArea?/*#__PURE__*/_jsx(CreateArea,{addNote:addNote}):/*#__PURE__*/_jsx(\"div\",{className:\"items-container\",children:Array.isArray(notes)&&notes.length>0?notes.filter(noteItem=>noteItem.type===title).map(noteItem=>/*#__PURE__*/_jsx(Item,{id:noteItem.id,title:noteItem.title,content:noteItem.content,onDelete:deleteItems},noteItem.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No notes available.\"})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","Item","SideBar","CreateArea","jsx","_jsx","jsxs","_jsxs","initNotes","id","type","title","content","user_id","App","notes","setNotes","setTitle","showCreateArea","setShowCreateArea","userId","setUserId","fetchUser","response","fetch","credentials","user","json","fetchNotes","data","toggleCreateArea","addNote","newNote","method","headers","body","JSON","stringify","addedNote","prevNotes","deleteItems","noteId","parseInt","filter","note","className","children","Title","Array","isArray","length","noteItem","map","onDelete"],"sources":["C:/Users/Aniket Sahu/Desktop/Projects/toDoList/React App/src/components/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Item from \"./item\";\r\nimport SideBar from \"./sideBar\";\r\nimport CreateArea from \"./createArea\";\r\n\r\nconst initNotes = [\r\n  {\r\n    id: \"1\",\r\n    type: \"Today\",\r\n    title: \"Study\",\r\n    content: \"Need to finish three topics\",\r\n    user_id: \"1\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    type: \"Today\",\r\n    title: \"Play\",\r\n    content: \"Need to kill that boss\",\r\n    user_id: \"1\",\r\n  },\r\n  {\r\n    id: \"3\",\r\n    type: \"This Week\",\r\n    title: \"Project\",\r\n    content: \"Need to finish the project\",\r\n    user_id: \"1\",\r\n  },\r\n  {\r\n    id: \"4\",\r\n    type: \"This Month\",\r\n    title: \"Help\",\r\n    content: \"Need to help three people\",\r\n    user_id: \"1\",\r\n  },\r\n];\r\n\r\nfunction App() {\r\n  const [notes, setNotes] = useState([]);\r\n  const [title, setTitle] = useState(\"Today\");\r\n  const [showCreateArea, setShowCreateArea] = useState(false);\r\n  const [userId, setUserId] = useState(null); \r\n\r\n  useEffect(() => {\r\n    // Simulate fetching user ID after login\r\n    const fetchUser = async () => {\r\n      const response = await fetch(\"http://localhost:3000/api/user\", {\r\n        credentials: \"include\", // Include cookies for session\r\n      });\r\n      const user = await response.json();\r\n      setUserId(user.id); // Store the user ID\r\n    };\r\n\r\n    const fetchNotes = async () => {\r\n      const response = await fetch(\"http://localhost:3000/api/notes\", {\r\n        credentials: \"include\", // Include cookies for session\r\n      });\r\n      const data = await response.json();\r\n      setNotes(data);\r\n    };\r\n\r\n    fetchUser(); // Get the logged-in user\r\n    fetchNotes(); // Fetch notes\r\n  }, []);\r\n\r\n  const toggleCreateArea = () => {\r\n    setShowCreateArea(!showCreateArea); // Toggle between true and false\r\n  };\r\n\r\n  const addNote = async (newNote) => {\r\n    const response = await fetch(\"http://localhost:3000/api/notes\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n      body: JSON.stringify(newNote),\r\n    });\r\n    const addedNote = await response.json();\r\n    setNotes((prevNotes) => [...prevNotes, addedNote]);\r\n  };\r\n\r\n  const deleteItems = async (id) => {\r\n    const noteId = parseInt(id, 10);\r\n    await fetch(`http://localhost:3000/api/notes/${id}`, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\",\r\n    });\r\n    setNotes((prevNotes) => prevNotes.filter((note) => note.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Header Title={title} toggleCreateArea={toggleCreateArea} />\r\n      <div className=\"main-content\">\r\n        <SideBar setTitle={setTitle} />\r\n        {showCreateArea ? (\r\n          <CreateArea addNote={addNote} />\r\n        ) : (\r\n          <div className=\"items-container\">\r\n            {Array.isArray(notes) && notes.length > 0 ? (\r\n              notes\r\n                .filter((noteItem) => noteItem.type === title)\r\n                .map((noteItem) => (\r\n                  <Item\r\n                    key={noteItem.id}\r\n                    id={noteItem.id}\r\n                    title={noteItem.title}\r\n                    content={noteItem.content}\r\n                    onDelete={deleteItems}\r\n                  />\r\n                ))\r\n            ) : (\r\n              <p>No notes available.</p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}